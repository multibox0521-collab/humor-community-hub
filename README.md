# 🌳 이슈트리 (IssuTree)

실시간 커뮤니티 & 연예 이슈를 한눈에 확인할 수 있는 통합 플랫폼입니다.

## 🌐 배포 URL

- **메인 사이트**: https://humor-community-hub7563.vercel.app/
- **통합 페이지**: https://humor-community-hub7563.vercel.app/all-in-one.html

---

## ✨ 주요 기능

### 📱 **메인 페이지 (index.html)**

#### **헤더 메뉴**
- **🌳 이슈트리** (로고 - 홈으로 이동)
- **🔥 커뮤니티베스트** (메뉴 클릭 시 해당 섹션으로 스크롤)
- **⭐ 연예뉴스베스트** (메뉴 클릭 시 해당 섹션으로 스크롤)

#### **주요 섹션**

1. **🔥 커뮤니티베스트 TOP 10**
   - **9개 사이트**에서 실시간 크롤링
   - 조회수 높은 순으로 정렬
   - 5분마다 자동 새로고침
   - **클릭 시 같은 창에서 실제 게시글로 이동**

2. **⭐ 연예뉴스베스트 TOP 10**
   - **9개 사이트**에서 실시간 크롤링
   - 댓글 많은 순으로 정렬
   - 5분마다 자동 새로고침
   - **클릭 시 같은 창에서 실제 게시글로 이동**

3. **💰 광고 배너 영역**
   - 좌우 160px 광고 공간
   - Google AdSense 연동 가능
   - 1680px 이하 화면에서 자동 숨김

**게시글 클릭 동작:**
- 같은 창에서 실제 게시글 페이지로 이동
- 뒤로가기 버튼으로 이슈트리 복귀

---

### 🎯 **통합 페이지 (all-in-one.html)**

#### **4개 탭 구성**
- **실시간**: 5개 사이트 실시간 크롤링 (자동 새로고침)
- **유머**: 유머 게시판 통합 (100개 샘플)
- **연예**: 연예 뉴스 통합 (100개 샘플)
- **즐겨찾기**: 내가 저장한 게시글

#### **핵심 기능**
1. **자동 새로고침** ⏰
   - 페이지 로드 시 자동 크롤링 시작
   - 5분마다 자동으로 새 게시글 가져오기
   - 카운트다운 타이머 표시

2. **읽은 글 표시** 👓
   - 클릭한 게시글 흐리게 표시
   - LocalStorage에 자동 저장
   - 설정에서 기록 삭제 가능

3. **즐겨찾기 시스템** ❤️
   - 하트 버튼으로 즐겨찾기 추가
   - 즐겨찾기 탭에서 모아보기
   - LocalStorage에 영구 저장

4. **스마트 필터링** 🔍
   - **유머 탭**: 기간 필터 (전체/1시간/3시간/6시간/12시간/24시간)
   - **유머 탭**: 키워드 검색 (실시간 필터링)
   - **연예 탭**: 키워드 검색 (실시간 필터링)
   - **사이트별 필터**: 클릭 한 번으로 사이트 필터링

5. **통합 검색** 🔎
   - 상단 검색창에서 모든 게시글 검색
   - 제목 실시간 필터링

6. **차단 키워드** 🚫
   - 특정 키워드가 포함된 게시글 자동 숨김
   - 설정에서 키워드 관리

7. **새 글 알림** 🔔
   - 상단 빨간 배지로 새 글 개수 표시
   - 클릭하면 새 글 목록 확인

8. **정렬 기능** 📊
   - 최신순 / 조회수순 / 댓글순
   - 드롭다운에서 선택

9. **무한 스크롤** ♾️
   - '더 보기' 버튼으로 추가 로드
   - 부드러운 애니메이션

10. **반응형 디자인** 📱💻
    - 데스크톱 / 태블릿 / 모바일 최적화
    - 터치 친화적 UI

---

## 🕷️ 크롤링 대상 사이트

### ✅ **실시간 크롤링 (9개 사이트)**

#### **메이저 커뮤니티 (4개)**
1. **클리앙** - 모두의공원
2. **뽐뿌** - 자유게시판
3. **개드립** - 개드립 게시판
4. **오늘의유머** - 베오베

#### **전문 커뮤니티 (5개)**
5. **에펨코리아** - 축구 커뮤니티 베스트
6. **보배드림** - 자동차 커뮤니티
7. **SLR클럽** - 사진/카메라 커뮤니티
8. **인벤** - 게임 커뮤니티
9. **MLB파크** - 스포츠 커뮤니티 (야구)

### ❌ **크롤링 제외된 사이트**
- **루리웹**: 403 Forbidden (차단)
- **디시인사이드**: CAPTCHA 및 보안 정책
- **웃긴대학**: SSL 인증서 오류
- **82쿡**: 경로 오류
- **더쿠**: URL 형식 변경
- **엠팍**: 중복 (MLB파크와 동일)

**성능 최적화:**
- 각 사이트당 최대 15개 게시글 수집 (총 **최대 135개**)
- 15초 타임아웃 설정으로 빠른 응답
- **Vercel Functions 최대 60초 제한**
- 병렬 크롤링으로 효율성 극대화
- 안정적인 사이트만 선별

**신뢰도:** 9개 사이트 모두 안정적으로 작동 중! ✅

---

## 🏗️ 기술 스택

- **Frontend**: HTML5, CSS3, Vanilla JavaScript
- **Backend**: Vercel Serverless Functions (Node.js)
- **크롤링**: Axios + Cheerio
- **배포**: Vercel
- **데이터**: LocalStorage (클라이언트 사이드)

---

## 📂 프로젝트 구조

```
humor-community-hub/
├── index.html              # 메인 페이지 (TOP 10 x 3)
├── all-in-one.html         # 통합 페이지 (4개 탭)
├── posts.html              # 인기글 모아보기 (레거시)
├── news.html               # 연예기사 모아보기 (레거시)
├── rss.html                # RSS 피드 (레거시)
├── live.html               # 실시간 크롤링 (레거시)
│
├── css/
│   ├── index-new.css       # 메인 페이지 스타일
│   ├── all-in-one.css      # 통합 페이지 스타일
│   └── style.css           # 공통 스타일 (레거시)
│
├── js/
│   ├── index-new.js        # 메인 페이지 로직
│   ├── all-in-one.js       # 통합 페이지 로직
│   └── rss.js              # RSS 처리 (레거시)
│
├── api/
│   └── crawl.js            # Vercel Serverless 크롤링 API
│
├── package.json            # 의존성 관리
├── vercel.json             # Vercel 설정
└── README.md               # 프로젝트 문서
```

---

## 🚀 로컬 개발 환경 설정

### 1. 저장소 클론
```bash
git clone https://github.com/your-username/humor-community-hub.git
cd humor-community-hub
```

### 2. 의존성 설치
```bash
npm install
```

### 3. 로컬 서버 실행
```bash
npm run dev
```

### 4. 브라우저에서 접속
```
http://localhost:3000
http://localhost:3000/all-in-one.html
```

---

## 🔧 배포 후 수정 방법

### 1. 로컬에서 파일 수정
```bash
# 예: 크롤링 셀렉터 수정
# api/crawl.js 파일 편집
```

### 2. GitHub에 푸시
```bash
git add .
git commit -m "크롤링 셀렉터 수정"
git push
```

### 3. Vercel 자동 재배포
- 푸시 후 약 30초~1분 후 자동 배포
- Vercel 대시보드에서 진행 상황 확인

---

## 🐛 문제 해결

### **실시간 크롤링이 안 될 때**

1. **F12 개발자 도구 열기**
2. **Console 탭 확인**
3. 에러 메시지 확인:
   ```javascript
   ❌ Failed to fetch
   ❌ CORS error
   ❌ 크롤링 실패: [사이트명]
   ```

4. **Vercel 로그 확인**
   - Vercel 대시보드 → Functions → `/api/crawl` → Logs

### **게시글 링크가 안 될 때**

- **샘플 데이터**: 게시판 메인 페이지로 이동 (정상 동작)
- **실시간 크롤링**: 실제 게시글로 이동

### **CSS/JS 로드 실패**

1. 브라우저 캐시 삭제 (Ctrl + Shift + R)
2. Vercel 재배포
3. 파일 경로 확인

---

## 📈 향후 개선 계획

### 🎨 **디자인**
- [ ] 다크모드 추가
- [ ] 테마 커스터마이징
- [ ] 애니메이션 개선

### ⚡ **기능**
- [ ] 북마크 동기화 (서버)
- [ ] 사용자 계정 시스템
- [ ] 알림 기능 강화
- [ ] 댓글 시스템

### 🕷️ **크롤링**
- [ ] 더 많은 사이트 추가
- [ ] Puppeteer로 동적 사이트 크롤링
- [ ] 프록시 서버 활용

### 📊 **분석**
- [ ] Google Analytics 연동
- [ ] 인기 키워드 통계
- [ ] 사용자 행동 분석

---

## 📄 라이선스

MIT License

---

## 👨‍💻 개발자

프로젝트 문의: [GitHub Issues](https://github.com/your-username/humor-community-hub/issues)

---

## 🙏 감사의 말

이 프로젝트는 여러 유머 커뮤니티의 공개된 게시글을 수집하여 표시합니다.  
각 사이트의 이용 약관을 준수하며, 상업적 목적이 아닌 개인 프로젝트입니다.

---

**마지막 업데이트**: 2024-12-26
